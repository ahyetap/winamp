<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Winamp Player avec Visualizer</title>
  <!-- Webamp principal -->
  <script src="https://unpkg.com/webamp@1.4.0/built/webamp.bundle.min.js" type="text/javascript"></script>
  <!-- Visualiseur Butterchurn + presets -->
  <script src="https://unpkg.com/butterchurn/lib/butterchurn.min.js"></script>
  <script src="https://unpkg.com/butterchurn-presets/lib/butterchurnPresets.min.js"></script>

  <style>
    body {
      margin: 0;
      background: radial-gradient(circle at center, #000 60%, #020c18);
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }
    #winamp {
      transform: scale(1.2);
      box-shadow: 0 0 25px rgba(0,255,255,0.5);
    }
  </style>
</head>
<body>
  <div id="winamp"></div>

  <script>
    window.onload = () => {
      const webamp = new Webamp({
        initialTracks: [
          {
            url: "https://freight.cargo.site/m/C2640483102756640432098516544097/01speed.wav",
            defaultName: "Speed"
          },
          {
            url: "https://freight.cargo.site/m/I2640483102775087176172226095713/02enfer.wav",
            defaultName: "Enfer"
          },
          {
            url: "https://freight.cargo.site/m/H2640483102793533920245935647329/03pause.wav",
            defaultName: "Pause"
          },
          {
            url: "https://freight.cargo.site/m/F2640483102811980664319645198945/04Yzon.wav",
            defaultName: "Yzon"
          },
          {
            url: "https://freight.cargo.site/m/B2640483102830427408393354750561/05monpte.wav",
            defaultName: "Mon Pote"
          }
        ],
        initialSkin: {
          url: "https://cdn.webampskins.org/skins/3a89b06a6424a5bc9b0a5a3d87c6b9d3.wsz"
        },
        __butterchurnOptions: {
          importButterchurn: () => Promise.resolve(window.butterchurn),
          getPresets: () => {
            return Object.entries(window.butterchurnPresets.getPresets()).map(([name, preset]) => ({
              name,
              butterchurnPresetObject: preset
            }));
          },
          butterchurnOpen: true // ouvre le visualiseur automatiquement
        }
      });

      webamp.renderWhenReady(document.getElementById("winamp"));
    };
  </script>
</body>
</html>
